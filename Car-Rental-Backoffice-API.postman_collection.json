{
	"info": {
		"_postman_id": "car-rental-backoffice-2025",
		"name": "Car Rental Backoffice API",
		"description": "Complete API collection for Car Rental Backoffice service with OAuth2/Keycloak authentication and HATEOAS REST endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Authentication & Registration",
			"item": [
				{
					"name": "1.1 Register Master Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accountName\": \"ACME Car Rentals\",\n  \"accountType\": \"CORPORATE\",\n  \"email\": \"admin@acmerentals.com\",\n  \"phoneNumber\": \"+1234567890\",\n  \"addressLine1\": \"123 Main Street\",\n  \"city\": \"New York\",\n  \"country\": \"USA\",\n  \"username\": \"admin\",\n  \"password\": \"SecurePass123!@#\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"userEmail\": \"john.doe@acmerentals.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/registration/master-account",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"registration",
								"master-account"
							]
						},
						"description": "Register a new master account with initial admin user"
					},
					"response": []
				},
				{
					"name": "1.2 Register Sub-User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accountId\": 1,\n  \"username\": \"manager01\",\n  \"password\": \"SecurePass123!@#\",\n  \"email\": \"manager@acmerentals.com\",\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"role\": \"MANAGER\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/registration/sub-user",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"registration",
								"sub-user"
							]
						},
						"description": "Register a sub-user for an existing account"
					},
					"response": []
				},
				{
					"name": "1.3 OAuth2 Login (Browser)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/oauth2/authorization/keycloak",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"oauth2",
								"authorization",
								"keycloak"
							]
						},
						"description": "Initiate OAuth2 login flow with Keycloak. Open this URL in a browser."
					},
					"response": []
				},
				{
					"name": "1.4 Get Current User Info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/me",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"me"
							]
						},
						"description": "Get authenticated user information (requires JWT token)"
					},
					"response": []
				},
				{
					"name": "1.5 Logout",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						},
						"description": "Logout and clear authentication cookies"
					},
					"response": []
				},
				{
					"name": "1.6 Verify Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/email/verify?token=your-verification-token",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"email",
								"verify"
							],
							"query": [
								{
									"key": "token",
									"value": "your-verification-token"
								}
							]
						},
						"description": "Verify email using token from verification email"
					},
					"response": []
				},
				{
					"name": "1.7 Resend Verification Email",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/email/resend-verification?usernameOrEmail=admin@acmerentals.com",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"email",
								"resend-verification"
							],
							"query": [
								{
									"key": "usernameOrEmail",
									"value": "admin@acmerentals.com"
								}
							]
						},
						"description": "Resend verification email"
					},
					"response": []
				},
				{
					"name": "1.8 Request Password Reset",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@acmerentals.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/password-reset/request",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"password-reset",
								"request"
							]
						},
						"description": "Request password reset token"
					},
					"response": []
				}
			]
		},
		{
			"name": "2. Vehicles API",
			"item": [
				{
					"name": "2.1 Get All Vehicles",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles?page=0&size=20&sort=name,asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "20"
								},
								{
									"key": "sort",
									"value": "name,asc"
								}
							]
						},
						"description": "Get all vehicles with pagination and sorting"
					},
					"response": []
				},
				{
					"name": "2.2 Get Vehicle by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"1"
							]
						},
						"description": "Get a specific vehicle by ID"
					},
					"response": []
				},
				{
					"name": "2.3 Create Vehicle",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Tesla Model 3\",\n  \"make\": \"Tesla\",\n  \"model\": \"Model 3\",\n  \"year\": 2024,\n  \"licensePlate\": \"ABC-1234\",\n  \"vin\": \"5YJ3E1EA1KF123456\",\n  \"odometer\": 5000,\n  \"fuelType\": \"Electric\",\n  \"transmissionType\": \"Automatic\",\n  \"details\": \"Premium electric sedan with autopilot\",\n  \"status\": \"AVAILABLE\",\n  \"bufferMinutes\": 30,\n  \"minRentalHours\": 2,\n  \"maxRentalDays\": 30,\n  \"maxFutureBookingDays\": 90\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/vehicles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles"
							]
						},
						"description": "Create a new vehicle"
					},
					"response": []
				},
				{
					"name": "2.4 Update Vehicle",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Tesla Model 3 Updated\",\n  \"make\": \"Tesla\",\n  \"model\": \"Model 3\",\n  \"year\": 2024,\n  \"licensePlate\": \"ABC-1234\",\n  \"vin\": \"5YJ3E1EA1KF123456\",\n  \"odometer\": 6000,\n  \"fuelType\": \"Electric\",\n  \"transmissionType\": \"Automatic\",\n  \"details\": \"Premium electric sedan - Recently serviced\",\n  \"status\": \"AVAILABLE\",\n  \"bufferMinutes\": 30,\n  \"minRentalHours\": 2,\n  \"maxRentalDays\": 30,\n  \"maxFutureBookingDays\": 90\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"1"
							]
						},
						"description": "Update an existing vehicle"
					},
					"response": []
				},
				{
					"name": "2.5 Patch Vehicle",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"MAINTENANCE\",\n  \"odometer\": 7000\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"1"
							]
						},
						"description": "Partially update a vehicle"
					},
					"response": []
				},
				{
					"name": "2.6 Delete Vehicle",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"1"
							]
						},
						"description": "Delete a vehicle"
					},
					"response": []
				},
				{
					"name": "2.7 Search Vehicles by Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/vehicles/search/findByStatus?status=AVAILABLE&page=0&size=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"vehicles",
								"search",
								"findByStatus"
							],
							"query": [
								{
									"key": "status",
									"value": "AVAILABLE"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "Search vehicles by status (AVAILABLE, RENTED, MAINTENANCE, RETIRED)"
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Bookings API",
			"item": [
				{
					"name": "3.1 Get All Bookings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings?page=0&size=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "Get all bookings with pagination"
					},
					"response": []
				},
				{
					"name": "3.2 Get Booking by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"1"
							]
						},
						"description": "Get a specific booking by ID"
					},
					"response": []
				},
				{
					"name": "3.3 Create Booking",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"vehicleId\": 1,\n  \"startDate\": \"2025-12-01T10:00:00\",\n  \"endDate\": \"2025-12-05T10:00:00\",\n  \"pickupLocation\": \"New York Airport\",\n  \"dropoffLocation\": \"New York Airport\",\n  \"insurancePolicy\": \"Standard Coverage\",\n  \"totalDays\": 4,\n  \"totalRentalFee\": 400.00,\n  \"finalPrice\": 400.00,\n  \"balancePayment\": 0.00,\n  \"status\": \"PENDING\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings"
							]
						},
						"description": "Create a new booking"
					},
					"response": []
				},
				{
					"name": "3.4 Update Booking",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"vehicleId\": 1,\n  \"startDate\": \"2025-12-01T10:00:00\",\n  \"endDate\": \"2025-12-05T10:00:00\",\n  \"pickupLocation\": \"New York Airport\",\n  \"dropoffLocation\": \"New York Airport\",\n  \"insurancePolicy\": \"Premium Coverage\",\n  \"totalDays\": 4,\n  \"totalRentalFee\": 400.00,\n  \"finalPrice\": 380.00,\n  \"balancePayment\": 0.00,\n  \"status\": \"CONFIRMED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"1"
							]
						},
						"description": "Update an existing booking"
					},
					"response": []
				},
				{
					"name": "3.5 Delete Booking",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"1"
							]
						},
						"description": "Delete a booking"
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Pricings API",
			"item": [
				{
					"name": "4.1 Get All Pricings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/pricings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"pricings"
							]
						},
						"description": "Get all pricings"
					},
					"response": []
				},
				{
					"name": "4.2 Create Pricing",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"vehicle\": \"/api/vehicles/1\",\n  \"baseRate\": 100.00,\n  \"rateType\": \"Daily\",\n  \"depositAmount\": 200.00,\n  \"minimumRentalDays\": 1,\n  \"validFrom\": \"2025-01-01T00:00:00\",\n  \"validTo\": \"2025-12-31T23:59:59\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/pricings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"pricings"
							]
						},
						"description": "Create a new pricing for a vehicle"
					},
					"response": []
				}
			]
		},
		{
			"name": "5. Offerings API",
			"item": [
				{
					"name": "5.1 Get All Offerings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/offerings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"offerings"
							]
						},
						"description": "Get all offerings (GPS, Insurance, Child Seat, etc.)"
					},
					"response": []
				},
				{
					"name": "5.2 Create Offering",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"GPS Navigation\",\n  \"offeringType\": \"GPS\",\n  \"availability\": 100,\n  \"price\": 10.00,\n  \"maxQuantityPerBooking\": 2,\n  \"isMandatory\": false,\n  \"description\": \"Advanced GPS navigation system\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/offerings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"offerings"
							]
						},
						"description": "Create a new offering"
					},
					"response": []
				}
			]
		},
		{
			"name": "6. Packages API",
			"item": [
				{
					"name": "6.1 Get All Packages",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/packages",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"packages"
							]
						},
						"description": "Get all packages"
					},
					"response": []
				},
				{
					"name": "6.2 Create Package",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Weekend Special\",\n  \"description\": \"10% off for weekend rentals\",\n  \"priceModifier\": 0.90,\n  \"validFrom\": \"2025-11-01T00:00:00\",\n  \"validTo\": \"2025-12-31T23:59:59\",\n  \"minRentalDays\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/packages",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"packages"
							]
						},
						"description": "Create a new package"
					},
					"response": []
				}
			]
		},
		{
			"name": "7. Discounts API",
			"item": [
				{
					"name": "7.1 Get All Discounts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/discounts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"discounts"
							]
						},
						"description": "Get all discounts"
					},
					"response": []
				},
				{
					"name": "7.2 Create Discount",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"SUMMER2025\",\n  \"type\": \"PERCENTAGE\",\n  \"value\": 15.00,\n  \"validFrom\": \"2025-06-01T00:00:00\",\n  \"validTo\": \"2025-08-31T23:59:59\",\n  \"minBookingAmount\": 100.00,\n  \"maxUses\": 100,\n  \"usesCount\": 0,\n  \"applicableScope\": \"ALL\",\n  \"description\": \"Summer discount 15% off\",\n  \"status\": \"ACTIVE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/discounts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"discounts"
							]
						},
						"description": "Create a new discount code"
					},
					"response": []
				}
			]
		},
		{
			"name": "8. Payments API",
			"item": [
				{
					"name": "8.1 Get All Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments"
							]
						},
						"description": "Get all payments"
					},
					"response": []
				},
				{
					"name": "8.2 Create Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"booking\": \"/api/bookings/1\",\n  \"amount\": 400.00,\n  \"paymentMethod\": \"Credit Card\",\n  \"transactionId\": \"TXN123456789\",\n  \"status\": \"COMPLETED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/payments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments"
							]
						},
						"description": "Create a new payment record"
					},
					"response": []
				}
			]
		},
		{
			"name": "9. Reviews API",
			"item": [
				{
					"name": "9.1 Get All Reviews",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/reviews",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews"
							]
						},
						"description": "Get all reviews"
					},
					"response": []
				},
				{
					"name": "9.2 Create Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"booking\": \"/api/bookings/1\",\n  \"vehicle\": \"/api/vehicles/1\",\n  \"rating\": 5,\n  \"comment\": \"Excellent service and clean vehicle!\",\n  \"reviewDate\": \"2025-10-24\",\n  \"isApproved\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/reviews",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews"
							]
						},
						"description": "Create a new review"
					},
					"response": []
				}
			]
		},
		{
			"name": "10. Health Checks",
			"item": [
				{
					"name": "10.1 Root API Info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								""
							]
						},
						"description": "Get API information"
					},
					"response": []
				},
				{
					"name": "10.2 Auth Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"health"
							]
						},
						"description": "Check authentication service health"
					},
					"response": []
				},
				{
					"name": "10.3 Registration Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/registration/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"registration",
								"health"
							]
						},
						"description": "Check registration service health"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8082",
			"type": "string"
		}
	]
}

